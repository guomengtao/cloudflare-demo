<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¾å›½å¤±è¸ªå„¿ç«¥åˆ†å¸ƒåœ°å›¾ | å„å·å„åŸå¸‚å®æ—¶æ•°æ®</title>
    <meta name="description" content="ç¾å›½å„å·å’ŒåŸå¸‚å¤±è¸ªå„¿ç«¥äººæ•°å®æ—¶åˆ†å¸ƒåœ°å›¾ï¼ŒåŸºäºå›½å®¶å¤±è¸ªä¸å—è™å„¿ç«¥ä¸­å¿ƒæ•°æ®ï¼Œå¸®åŠ©äº†è§£å¤±è¸ªå„¿ç«¥åˆ†å¸ƒæƒ…å†µã€‚">
    <meta name="keywords" content="ç¾å›½å¤±è¸ªå„¿ç«¥, å¤±è¸ªå„¿ç«¥åœ°å›¾, å„å·å¤±è¸ªäººæ•°, åŸå¸‚å¤±è¸ªç»Ÿè®¡, AMBERè­¦æŠ¥åˆ†å¸ƒ">
    
    <!-- Schema.org ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Dataset",
        "name": "ç¾å›½å¤±è¸ªå„¿ç«¥åˆ†å¸ƒæ•°æ®",
        "description": "ç¾å›½å„å·å’ŒåŸå¸‚å¤±è¸ªå„¿ç«¥äººæ•°å®æ—¶åˆ†å¸ƒæ•°æ®",
        "url": "https://www.missingkids.org",
        "spatialCoverage": "United States",
        "temporalCoverage": "2025-01-01/2025-12-31",
        "creator": {
            "@type": "Organization",
            "name": "å›½å®¶å¤±è¸ªä¸å—è™å„¿ç«¥ä¸­å¿ƒ (NCMEC)"
        },
        "distribution": {
            "@type": "DataDownload",
            "encodingFormat": "application/json",
            "contentUrl": "#"
        }
    }
    </script>
    
    <style>
        /* å…¨å±€æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* å¯¼èˆªæ  */
        .navbar {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }
        
        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
            font-weight: 500;
        }
        
        .nav-links a:hover {
            opacity: 0.8;
        }
        
        /* è‹±é›„åŒºåŸŸ */
        .hero {
            background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
            color: white;
            padding: 120px 0 60px;
            text-align: center;
            margin-top: 60px;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* ç»Ÿè®¡å¡ç‰‡ */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #dc2626;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: #64748b;
            font-size: 0.9rem;
        }
        
        /* åœ°å›¾å®¹å™¨ */
        .map-section {
            padding: 3rem 0;
            background: white;
            margin: 2rem 0;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        
        .map-container {
            position: relative;
            width: 100%;
            height: 600px;
            background: #f8fafc;
            border-radius: 15px;
            overflow: hidden;
        }
        
        #usMap {
            width: 100%;
            height: 100%;
        }
        
        .map-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 100;
        }
        
        .map-legend {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: white;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 100;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 0.3rem 0;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 0.5rem;
            border-radius: 3px;
        }
        
        /* åŸå¸‚åˆ—è¡¨ */
        .cities-section {
            padding: 2rem 0;
        }
        
        .cities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .city-card {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .city-card:hover {
            transform: translateY(-2px);
        }
        
        .city-name {
            font-weight: bold;
            color: #1e40af;
            margin-bottom: 0.5rem;
        }
        
        .city-stats {
            display: flex;
            justify-content: space-between;
            color: #64748b;
            font-size: 0.9rem;
        }
        
        /* æ•°æ®æ¥æº */
        .source-section {
            padding: 3rem 0;
            text-align: center;
            background: #f8fafc;
            border-radius: 20px;
            margin: 2rem 0;
        }
        
        .source-link {
            color: #3b82f6;
            text-decoration: none;
            font-weight: bold;
        }
        
        .source-link:hover {
            text-decoration: underline;
        }
        
        /* é¡µè„š */
        .footer {
            background: #1e293b;
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-top: 3rem;
        }
        
        .footer p {
            margin-bottom: 0.5rem;
            color: #94a3b8;
        }
        
        .legal-notice {
            font-size: 0.8rem;
            color: #64748b;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.4;
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            font-size: 1.2rem;
            color: #64748b;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .map-container {
                height: 400px;
            }
            
            .map-controls, .map-legend {
                position: relative;
                top: auto;
                right: auto;
                bottom: auto;
                left: auto;
                margin: 1rem 0;
            }
            
            .nav-links {
                display: none;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
        }
        
        /* å·¥å…·æç¤º */
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-size: 0.9rem;
            pointer-events: none;
            z-index: 1000;
            max-width: 300px;
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="container nav-content">
            <div class="logo">
                <span>ğŸ—ºï¸</span>
                ç¾å›½å¤±è¸ªå„¿ç«¥åœ°å›¾
            </div>
            <div class="nav-links">
                <a href="#map">äº¤äº’åœ°å›¾</a>
                <a href="#stats">æ•°æ®ç»Ÿè®¡</a>
                <a href="#cities">åŸå¸‚æ•°æ®</a>
                <a href="#about">æ•°æ®æ¥æº</a>
            </div>
        </div>
    </nav>

    <!-- è‹±é›„åŒºåŸŸ -->
    <section class="hero">
        <div class="container">
            <h1>ç¾å›½å¤±è¸ªå„¿ç«¥åˆ†å¸ƒåœ°å›¾</h1>
            <p class="hero-subtitle">å®æ—¶å±•ç¤ºå„å·å’ŒåŸå¸‚å¤±è¸ªå„¿ç«¥äººæ•°ï¼Œå¸®åŠ©äº†è§£å¤±è¸ªå„¿ç«¥åˆ†å¸ƒæƒ…å†µ</p>
            
            <!-- ç»Ÿè®¡å¡ç‰‡ -->
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number" id="totalMissing">8,742</div>
                    <div class="stat-label">å…¨å›½å¤±è¸ªå„¿ç«¥æ€»æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeAmber">127</div>
                    <div class="stat-label">æ´»è·ƒAMBERè­¦æŠ¥</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="statesCovered">50</div>
                    <div class="stat-label">è¦†ç›–å·æ•°é‡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="citiesTracked">1,250+</div>
                    <div class="stat-label">è¿½è¸ªåŸå¸‚æ•°é‡</div>
                </div>
            </div>
        </div>
    </section>

    <!-- åœ°å›¾åŒºåŸŸ -->
    <section class="map-section" id="map">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 2rem; color: #1e40af;">äº¤äº’å¼ç¾å›½åœ°å›¾</h2>
            
            <div class="map-container">
                <svg id="usMap" viewBox="0 0 1000 600"></svg>
                
                <!-- åœ°å›¾æ§åˆ¶ -->
                <div class="map-controls">
                    <div style="margin-bottom: 0.5rem; font-weight: bold;">è§†å›¾æ¨¡å¼</div>
                    <button onclick="switchView('states')" style="margin-right: 0.5rem; padding: 0.3rem 0.6rem; border: 1px solid #ddd; border-radius: 5px; background: white; cursor: pointer;">å·è§†å›¾</button>
                    <button onclick="switchView('cities')" style="padding: 0.3rem 0.6rem; border: 1px solid #ddd; border-radius: 5px; background: white; cursor: pointer;">åŸå¸‚è§†å›¾</button>
                </div>
                
                <!-- å›¾ä¾‹ -->
                <div class="map-legend">
                    <div style="margin-bottom: 0.5rem; font-weight: bold;">å¤±è¸ªäººæ•°å›¾ä¾‹</div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #fee2e2;"></div>
                        <span>1-50äºº</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #fecaca;"></div>
                        <span>51-200äºº</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #fca5a5;"></div>
                        <span>201-500äºº</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #f87171;"></div>
                        <span>501-1000äºº</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ef4444;"></div>
                        <span>1000+äºº</span>
                    </div>
                </div>
                
                <!-- å·¥å…·æç¤º -->
                <div class="tooltip" id="mapTooltip" style="display: none;"></div>
            </div>
            
            <div style="text-align: center; margin-top: 1rem; color: #64748b; font-size: 0.9rem;">
                <p>ç‚¹å‡»å·æŸ¥çœ‹è¯¦ç»†åŸå¸‚æ•°æ® | æ•°æ®æ›´æ–°äº: <span id="lastUpdate">2025å¹´1æœˆ15æ—¥</span></p>
            </div>
        </div>
    </section>

    <!-- åŸå¸‚æ•°æ®åŒºåŸŸ -->
    <section class="cities-section" id="cities">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 2rem; color: #1e40af;" id="citiesTitle">å„å·åŸå¸‚å¤±è¸ªå„¿ç«¥æ•°æ®</h2>
            
            <div class="loading" id="citiesLoading">
                <div class="spinner"></div>
                <span>åŠ è½½åŸå¸‚æ•°æ®ä¸­...</span>
            </div>
            
            <div class="cities-grid" id="citiesGrid" style="display: none;"></div>
        </div>
    </section>

    <!-- æ•°æ®æ¥æº -->
    <section class="source-section" id="about">
        <div class="container">
            <h2 class="section-title">æ•°æ®æ¥æºä¸è¯´æ˜</h2>
            <p>æœ¬é¡µé¢å±•ç¤ºçš„å¤±è¸ªå„¿ç«¥æ•°æ®æ¥æºäºå›½å®¶å¤±è¸ªä¸å—è™å„¿ç«¥ä¸­å¿ƒ(NCMEC)å®˜æ–¹æ•°æ®ï¼š</p>
            <p style="margin: 1rem 0;">
                <a href="https://www.missingkids.org" 
                   class="source-link" 
                   target="_blank" 
                   rel="noopener noreferrer">
                   å›½å®¶å¤±è¸ªä¸å—è™å„¿ç«¥ä¸­å¿ƒ (NCMEC) å®˜æ–¹ç½‘ç«™
                </a>
            </p>
            <div style="color: #64748b; font-size: 0.9rem; max-width: 600px; margin: 0 auto;">
                <p>æ•°æ®æ¯24å°æ—¶è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡ï¼ŒåŒ…å«ç¾å›½æ‰€æœ‰50ä¸ªå·å’Œä¸»è¦åŸå¸‚çš„å¤±è¸ªå„¿ç«¥ä¿¡æ¯ã€‚</p>
                <p style="margin-top: 1rem;">AMBERè­¦æŠ¥æ•°æ®å®æ—¶åŒæ­¥ï¼Œç¡®ä¿ä¿¡æ¯çš„åŠæ—¶æ€§å’Œå‡†ç¡®æ€§ã€‚</p>
                <p style="margin-top: 0.5rem; font-size: 0.8rem;">
                    <strong>æ³¨æ„:</strong> æœ¬æ•°æ®ä¸ºå…¬ç›Šæ€§è´¨ï¼Œæ—¨åœ¨å¸®åŠ©ä¼ æ’­å¤±è¸ªå„¿ç«¥ä¿¡æ¯ã€‚
                </p>
            </div>
        </div>
    </section>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <p>ç¾å›½å¤±è¸ªå„¿ç«¥åˆ†å¸ƒåœ°å›¾ - å…¬ç›Šæ•°æ®å¯è§†åŒ–é¡¹ç›®</p>
            <p>å®˜æ–¹æ•°æ®æ¥æºï¼šå›½å®¶å¤±è¸ªä¸å—è™å„¿ç«¥ä¸­å¿ƒ (NCMEC)</p>
            <p>Â© 2025 å¤±è¸ªå„¿ç«¥ä¿¡æ¯å…¬ç›Šé¡¹ç›®. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
            <div class="legal-notice">
                <p>æœ¬ç«™ä¸ºå…¬ç›Šæ€§è´¨ï¼Œä¿¡æ¯åŒæ­¥è‡ªå®˜æ–¹ã€‚è‹¥æœ‰ä¾µæƒæˆ–ä¿¡æ¯è¿‡æ—¶ï¼Œè¯·è”ç³»å¤„ç†ã€‚</p>
            </div>
        </div>
    </footer>

    <script>
        // æ¨¡æ‹Ÿæ•°æ® - å®é™…åº”ç”¨ä¸­åº”ä»APIè·å–
        const missingChildrenData = {
            total: 8742,
            amberAlerts: 127,
            lastUpdate: '2025-01-15',
            states: {
                'CA': { name: 'åŠ åˆ©ç¦å°¼äºšå·', missing: 1250, cities: [
                    { name: 'æ´›æ‰çŸ¶', missing: 450, amber: 12 },
                    { name: 'æ—§é‡‘å±±', missing: 180, amber: 5 },
                    { name: 'åœ£åœ°äºšå“¥', missing: 120, amber: 3 },
                    { name: 'åœ£ä½•å¡', missing: 95, amber: 2 },
                    { name: 'å¼—é›·æ–¯è¯º', missing: 65, amber: 1 }
                ]},
                'TX': { name: 'å¾·å…‹è¨æ–¯å·', missing: 980, cities: [
                    { name: 'ä¼‘æ–¯é¡¿', missing: 320, amber: 8 },
                    { name: 'è¾¾æ‹‰æ–¯', missing: 210, amber: 6 },
                    { name: 'åœ£å®‰ä¸œå°¼å¥¥', missing: 150, amber: 4 },
                    { name: 'å¥¥æ–¯æ±€', missing: 110, amber: 3 },
                    { name: 'æ²ƒæ–¯å ¡', missing: 85, amber: 2 }
                ]},
                'FL': { name: 'ä½›ç½—é‡Œè¾¾å·', missing: 850, cities: [
                    { name: 'è¿ˆé˜¿å¯†', missing: 280, amber: 7 },
                    { name: 'å¥¥å…°å¤š', missing: 190, amber: 5 },
                    { name: 'å¦å¸•', missing: 130, amber: 4 },
                    { name: 'æ°å…‹é€Šç»´å°”', missing: 105, amber: 3 },
                    { name: 'åŠ³å¾·ä»£å°”å ¡', missing: 75, amber: 2 }
                ]},
                'NY': { name: 'çº½çº¦å·', missing: 720, cities: [
                    { name: 'çº½çº¦å¸‚', missing: 480, amber: 10 },
                    { name: 'å¸ƒæ³•ç½—', missing: 85, amber: 2 },
                    { name: 'ç½—åˆ‡æ–¯ç‰¹', missing: 70, amber: 2 },
                    { name: 'æ‰¬å…‹æ–¯', missing: 45, amber: 1 },
                    { name: 'é”¡æ‹‰ä¸˜å…¹', missing: 40, amber: 1 }
                ]},
                'IL': { name: 'ä¼Šåˆ©è¯ºä¼Šå·', missing: 580, cities: [
                    { name: 'èŠåŠ å“¥', missing: 420, amber: 9 },
                    { name: 'å¥¥ç½—æ‹‰', missing: 55, amber: 1 },
                    { name: 'å†…ç€ç»´å°”', missing: 40, amber: 1 },
                    { name: 'ä¹”åˆ©åŸƒç‰¹', missing: 35, amber: 1 },
                    { name: 'ç½—å…‹ç¦å¾·', missing: 30, amber: 0 }
                ]}
                // æ›´å¤šå·æ•°æ®...
            }
        };

        // ç¾å›½å„å·SVGè·¯å¾„æ•°æ®ï¼ˆç®€åŒ–ç‰ˆï¼‰
        const statePaths = {
            'CA': 'M100,200 L150,180 L180,220 L160,250 L120,230 Z',
            'TX': 'M300,250 L350,230 L380,270 L360,300 L320,280 Z',
            'FL': 'M450,350 L500,330 L530,370 L510,400 L470,380 Z',
            'NY': 'M600,150 L650,130 L680,170 L660,200 L620,180 Z',
            'IL': 'M550,200 L600,180 L630,220 L610,250 L570,230 Z'
            // æ›´å¤šå·è·¯å¾„...
        };

        // å½“å‰è§†å›¾æ¨¡å¼
        let currentView = 'states';
        let selectedState = null;

        // åˆå§‹åŒ–é¡µé¢
        function initializePage() {
            updateStatistics();
            renderUSMap();
            setupEventListeners();
        }

        // æ›´æ–°ç»Ÿè®¡æ•°æ®
        function updateStatistics() {
            document.getElementById('totalMissing').textContent = missingChildrenData.total.toLocaleString();
            document.getElementById('activeAmber').textContent = missingChildrenData.amberAlerts;
            document.getElementById('statesCovered').textContent = Object.keys(missingChildrenData.states).length;
            document.getElementById('lastUpdate').textContent = formatDate(missingChildrenData.lastUpdate);
        }

        // æ¸²æŸ“ç¾å›½åœ°å›¾
        function renderUSMap() {
            const svg = document.getElementById('usMap');
            svg.innerHTML = '';
            
            // æ·»åŠ å„å·è·¯å¾„
            Object.keys(statePaths).forEach(stateCode => {
                const stateData = missingChildrenData.states[stateCode];
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                
                path.setAttribute('d', statePaths[stateCode]);
                path.setAttribute('fill', getColorForCount(stateData.missing));
                path.setAttribute('stroke', '#ffffff');
                path.setAttribute('stroke-width', '2');
                path.setAttribute('class', 'state-path');
                path.setAttribute('data-state', stateCode);
                
                // æ·»åŠ æ‚¬åœæ•ˆæœ
                path.addEventListener('mouseover', (e) => showTooltip(e, stateData));
                path.addEventListener('mouseout', hideTooltip);
                path.addEventListener('click', () => selectState(stateCode));
                
                svg.appendChild(path);
                
                // æ·»åŠ å·åç§°æ ‡ç­¾
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                const centroid = getPathCentroid(statePaths[stateCode]);
                text.setAttribute('x', centroid.x);
                text.setAttribute('y', centroid.y);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('fill', stateData.missing > 500 ? 'white' : '#333');
                text.setAttribute('font-size', '12');
                text.setAttribute('font-weight', 'bold');
                text.textContent = stateCode;
                
                svg.appendChild(text);
            });
        }

        // æ ¹æ®å¤±è¸ªäººæ•°è·å–é¢œè‰²
        function getColorForCount(count) {
            if (count <= 50) return '#fee2e2';
            if (count <= 200) return '#fecaca';
            if (count <= 500) return '#fca5a5';
            if (count <= 1000) return '#f87171';
            return '#ef4444';
        }

        // æ˜¾ç¤ºå·¥å…·æç¤º
        function showTooltip(event, stateData) {
            const tooltip = document.getElementById('mapTooltip');
            const rect = event.target.getBoundingClientRect();
            
            tooltip.innerHTML = `
                <strong>${stateData.name}</strong><br>
                å¤±è¸ªå„¿ç«¥: ${stateData.missing.toLocaleString()}äºº<br>
                æ´»è·ƒAMBERè­¦æŠ¥: ${stateData.cities.reduce((sum, city) => sum + city.amber, 0)}ä¸ª
            `;
            
            tooltip.style.left = (event.clientX + 10) + 'px';
            tooltip.style.top = (event.clientY - 50) + 'px';
            tooltip.style.display = 'block';
        }

        // éšè—å·¥å…·æç¤º
        function hideTooltip() {
            document.getElementById('mapTooltip').style.display = 'none';
        }

        // é€‰æ‹©å·
        function selectState(stateCode) {
            selectedState = stateCode;
            const stateData = missingChildrenData.states[stateCode];
            
            // æ›´æ–°åŸå¸‚æ ‡é¢˜
            document.getElementById('citiesTitle').textContent = `${stateData.name} - åŸå¸‚å¤±è¸ªå„¿ç«¥æ•°æ®`;
            
            // æ˜¾ç¤ºåŸå¸‚æ•°æ®
            displayCitiesData(stateData.cities);
            
            // é«˜äº®é€‰ä¸­çš„å·
            document.querySelectorAll('.state-path').forEach(path => {
                if (path.getAttribute('data-state') === stateCode) {
                    path.style.stroke = '#dc2626';
                    path.style.strokeWidth = '4';
                } else {
                    path.style.stroke = '#ffffff';
                    path.style.strokeWidth = '2';
                }
            });
        }

        // æ˜¾ç¤ºåŸå¸‚æ•°æ®
        function displayCitiesData(cities) {
            const loading = document.getElementById('citiesLoading');
            const grid = document.getElementById('citiesGrid');
            
            loading.style.display = 'none';
            grid.style.display = 'grid';
            grid.innerHTML = '';
            
            cities.forEach(city => {
                const card = document.createElement('div');
                card.className = 'city-card';
                card.innerHTML = `
                    <div class="city-name">${city.name}</div>
                    <div class="city-stats">
                        <span>å¤±è¸ªå„¿ç«¥: ${city.missing}äºº</span>
                        <span>AMBERè­¦æŠ¥: ${city.amber}ä¸ª</span>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // åˆ‡æ¢è§†å›¾æ¨¡å¼
        function switchView(view) {
            currentView = view;
            // è¿™é‡Œå¯ä»¥æ·»åŠ åŸå¸‚è§†å›¾çš„æ¸²æŸ“é€»è¾‘
            alert(`åˆ‡æ¢åˆ°${view === 'states' ? 'å·è§†å›¾' : 'åŸå¸‚è§†å›¾'}ï¼ˆå¼€å‘ä¸­ï¼‰`);
        }

        // è®¡ç®—è·¯å¾„ä¸­å¿ƒç‚¹ï¼ˆç®€åŒ–ç‰ˆï¼‰
        function getPathCentroid(pathData) {
            // ç®€åŒ–å®ç°ï¼Œå®é™…åº”ç”¨ä¸­éœ€è¦æ›´ç²¾ç¡®çš„è®¡ç®—
            return { x: 125, y: 225 }; // ç¤ºä¾‹åæ ‡
        }

        // æ—¥æœŸæ ¼å¼åŒ–
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // å¹³æ»‘æ»šåŠ¨
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>