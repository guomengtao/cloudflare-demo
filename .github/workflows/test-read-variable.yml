name: Test-Variable-By-Env

on:
  workflow_dispatch: 

jobs:
  test-env:
    runs-on: ubuntu-latest
    steps:
      - name: 验证环境变量读取
        env:
          # 核心：将 GitHub Variables 映射为环境变量
          TASK_ID_FROM_VARS: ${{ vars.TASK_WEBP }}
        run: |
          echo "正在检查环境变量..."
          if [ -z "$TASK_ID_FROM_VARS" ]; then
            echo "❌ 失败: 环境变量 TASK_ID_FROM_VARS 为空"
            exit 1
          else
            echo "✅ 成功: 读取到的值是 $TASK_ID_FROM_VARS"
          fi